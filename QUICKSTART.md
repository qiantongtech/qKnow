# ğŸš€ åƒçŸ¥å¹³å°ï¼ˆqKnowï¼‰ å¿«é€Ÿå¼€å§‹æŒ‡å—

---

## ä¸€ã€å‡†å¤‡å·¥ä½œ <small>ï¼ˆå¿…å¤‡ç¯å¢ƒï¼‰</small>

åœ¨è¿è¡Œç³»ç»Ÿä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²å®‰è£…ä»¥ä¸‹ç¯å¢ƒï¼š

|                                                         è½¯ä»¶/å·¥å…·                                                         |   ç‰ˆæœ¬è¦æ±‚   |  æ¨èç‰ˆæœ¬  |
|:---------------------------------------------------------------------------------------------------------------------:|:--------:|:------:|
|              <img src="https://img.icons8.com/color/48/000000/java-coffee-cup-logo.png" width="24"/> JDK              |  >= 1.8  |  1.8   |
|                  <img src="https://img.icons8.com/color/48/000000/mysql-logo.png" width="24"/> MySQL                  | >= 5.7.0 |  5.7   |
| <img src="https://dist.neo4j.com/wp-content/uploads/20230926084108/Logo_FullColor_RGB_TransBG.svg" width="24"/> Neo4j |    4.x   | 4.4.40 |
|                    <img src="https://img.icons8.com/color/48/000000/redis.png" width="24"/> Redis                     |  >= 5.0  |  5.0   |
|               <img src="https://img.icons8.com/?size=100&id=jfjmkTUFX5Vf&format=png" width="24"/> Maven               |  >= 3.6  |  3.6   |
|                   <img src="https://img.icons8.com/color/48/000000/nodejs.png" width="24"/> Node.js                   |  >= 16   |   16   |

> **æç¤º**: å‰ç«¯å®‰è£…å®Œ `Node.js` åï¼Œå»ºè®®è®¾ç½®æ·˜å®é•œåƒæºä»¥æå‡ä¾èµ–åŒ…ä¸‹è½½é€Ÿåº¦ã€‚ä¸æ¨èä½¿ç”¨ `cnpm`ï¼Œå¯èƒ½ä¼šå¼•å…¥ä¸€äº›ä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚
>
> ```bash
> npm config set registry https://registry.npmmirror.com
> ```

---

## äºŒã€è·å–é¡¹ç›®ä»£ç  <small>ï¼ˆä¸‹è½½ä¸è§£å‹ï¼‰</small>

å‰å¾€ ã€[qKnow Gitee ä¸‹è½½é¡µé¢](https://gitee.com/qiantongtech/qKnow)ã€‘ ä¸‹è½½é¡¹ç›®å¹¶è§£å‹åˆ°æ‚¨çš„å·¥ä½œç›®å½•ã€‚

---

## ä¸‰ã€ç›®å½•ç»“æ„
### 2.1 é¡¹ç›®ç»“æ„;

```
â”œâ”€qknow-framework           # å…¬å…±é…ç½®æ¨¡å—
â”œâ”€   â”œâ”€qknow-auth           # oauth2æ¨¡å—
â”œâ”€   â”œâ”€qknow-common         # å…±é€šæ¨¡å—
â”œâ”€   â”œâ”€qknow-config         # é…ç½®æ¨¡å—
â”œâ”€   â”œâ”€qknow-es             # esæ¨¡å—
â”œâ”€   â”œâ”€qknow-file           # æ–‡ä»¶ç®¡ç†æ¨¡å—
â”œâ”€   â”œâ”€qknow-generator      # ä»£ç ç”Ÿæˆå™¨
â”œâ”€   â”œâ”€qknow-mybatis        # mybatisé…ç½®
â”œâ”€   â”œâ”€qknow-neo4j          # neo4jæ•°æ®åº“æ¨¡å—
â”œâ”€   â”œâ”€qknow-pay            # æ”¯ä»˜æ¨¡å—
â”œâ”€   â”œâ”€qknow-quartz         # å®šæ—¶ä»»åŠ¡æ¨¡å—
â”œâ”€   â”œâ”€qknow-redis          # redisæ¨¡å—
â”œâ”€   â”œâ”€qknow-security       # securityæ¨¡å—
â”œâ”€   â”œâ”€qknow-websocket      # websocketæ¨¡å—
â”œâ”€qknow-module-app          # çŸ¥è¯†åº”ç”¨æ¨¡å—
â”œâ”€qknow-module-dm           # æ•°æ®ç®¡ç†æ¨¡å—
â”œâ”€qknow-module-ext          # çŸ¥è¯†æŠ½å–æ¨¡å—
â”œâ”€qknow-module-kmc          # çŸ¥è¯†ä¸­å¿ƒæ¨¡å—
â”œâ”€qknow-module-system       # ç³»ç»Ÿç®¡ç†æ¨¡å—
â”œâ”€qknow-server              # å¯åŠ¨é¡¹ç›®
â”œâ”€qknow-ui                  # å‰ç«¯æ¨¡å—
â”œâ”€sql                       # sqlè„šæœ¬
â”œâ”€README.md                 # ç›¸å…³ä»‹ç»
â”œâ”€QUICKSTART.md                 # å¿«é€Ÿå¯åŠ¨
```

### 2.2 å‰ç«¯ç»“æ„;

```
â”œâ”€qknow-ui                  # å‰ç«¯æ¨¡å—
â”œâ”€   â”œâ”€public                   # é™æ€èµ„æºç›®å½•
â”œâ”€   â”œâ”€src
â”œâ”€   |  â”œâ”€api                   # æ¥å£
â”œâ”€   |  â”œâ”€assets                # å›¾ç‰‡ã€æ ·å¼ç­‰èµ„æº
â”œâ”€   |  â”œâ”€components            # é€šç”¨ç»„ä»¶
â”œâ”€   |  â”œâ”€layout                # å¸ƒå±€
â”œâ”€   |  â”œâ”€plugins               # æ’ä»¶
â”œâ”€   |  â”œâ”€router                # è·¯ç”±
â”œâ”€   |  â”œâ”€store                 # çŠ¶æ€ç®¡ç†
â”œâ”€   |  â”œâ”€utils                 # å·¥å…·ç±»
â”œâ”€   |  â”œâ”€views                     # é¡µé¢è§†å›¾
â”œâ”€   |  |   â”œâ”€app                   # çŸ¥è¯†åº”ç”¨æ¨¡å—
â”œâ”€   |  |   â”œâ”€dm                    # æ•°æ®ç®¡ç†æ¨¡å—
â”œâ”€   |  |   â”œâ”€ext                   # çŸ¥è¯†æŠ½å–æ¨¡å—
â”œâ”€   |  |   â”œâ”€kmc                   # çŸ¥è¯†ä¸­å¿ƒæ¨¡å—
â”œâ”€   |  |   â”œâ”€system                # ç³»ç»Ÿç®¡ç†æ¨¡å—
â”œâ”€   â”œâ”€.env.development         # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€   â”œâ”€.env.production          # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€   â”œâ”€vite.config.js           # Viteé…ç½®æ–‡ä»¶
```

---

## å››ã€å¿…è¦é…ç½® <small>ï¼ˆæ•°æ®åº“ä¸æœåŠ¡é…ç½®ï¼‰</small>

### 1. åˆ›å»ºMySQLæ•°æ®åº“å¹¶å¯¼å…¥æ•°æ®

- åˆ›å»º MySQL æ•°æ®åº“ï¼š`qknow_dev`
- å¯¼å…¥æ•°æ®è„šæœ¬ï¼š`qknow_20250522.sql`ã€`quartz.sql`

### 2. ä¿®æ”¹MySQLæ•°æ®åº“è¿æ¥é…ç½®

è·¯å¾„ï¼š`qKnow/qknow-server/src/main/resources/application-dev.yml`

```yaml
datasource:
  type: mysql

mysql:
  driver-class-name: com.mysql.cj.jdbc.Driver
  url: æ•°æ®åº“åœ°å€
  username: æ•°æ®åº“è´¦å·
  password: æ•°æ®åº“å¯†ç 
```

### 3. åˆ›å»ºNeo4jæ•°æ®åº“å¹¶å¯¼å…¥æ•°æ®

#### æ­¥éª¤ 1: å…³é—­Neo4jæœåŠ¡
- è¿›å…¥Neo4jå®‰è£…ç›®å½•ï¼Œåœ¨binç›®å½•ä¸‹ï¼Œæ‰§è¡Œ`./neo4j stop`å°†æœåŠ¡å…³æ‰ã€‚

#### æ­¥éª¤ 2: å¯¼å…¥æ•°æ®åº“
- è¿›å…¥Neo4jå®‰è£…ç›®å½•ï¼Œåœ¨binç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å¯¼å…¥å‘½ä»¤ã€‚

```bash
# å‘½ä»¤è¯´æ˜: --force è¡¨ç¤ºå¼ºåˆ¶è¦†ç›–ï¼Œdatabaseå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ•°æ®åº“ã€‚
# dumpæ–‡ä»¶: sql/neo4j/neo4j.dumpã€‚      æ³¨ï¼šä»¥ä¸‹å‘½ä»¤è¡Œä¸­çš„è·¯å¾„è¯·å¡«å†™æ‚¨çš„ç»å¯¹è·¯å¾„ã€‚
./neo4j-admin load --from=dumpæ–‡ä»¶è·¯å¾„ --database=æ‚¨çš„æ•°æ®åº“åç§°   --force 
```

- è¿›å…¥Neo4jå®‰è£…ç›®å½•ï¼Œåœ¨confç›®å½•ä¸‹ï¼Œæ‰¾åˆ°`neo4j.conf`æ–‡ä»¶ï¼Œä¿®æ”¹æ•°æ®åº“åç§°:`dbms.default_database=æ‚¨çš„æ•°æ®åº“åç§°`

#### æ­¥éª¤ 3: å¯åŠ¨Neo4jæœåŠ¡
- è¿›å…¥Neo4jå®‰è£…ç›®å½•ï¼Œåœ¨binç›®å½•ä¸‹ï¼Œæ‰§è¡Œ`./neo4j start`å¯åŠ¨æœåŠ¡

### 4. ä¿®æ”¹Neo4jæ•°æ®åº“è¿æ¥é…ç½®

è·¯å¾„ï¼š`qKnow/qknow-framework/qknow-neo4j/src/main/resources/application-neo4j-dev.yml`

```yaml
neo4j:
  uri: æ•°æ®åº“åœ°å€
  user: æ•°æ®åº“è´¦å·
  password: æ•°æ®åº“å¯†ç 
```

### 5. é…ç½®æœåŠ¡ç«¯å£å’Œè®¿é—®è·¯å¾„

è·¯å¾„ï¼š`qKnow/qknow-server/src/main/resources/application.yml`

```yaml
server:
  port: ç«¯å£            # é»˜è®¤ä¸º8090
  servlet:
    context-path: /åº”ç”¨è·¯å¾„  # åº”ç”¨è®¿é—®è·¯å¾„ï¼Œé»˜è®¤ä¸ºç©º
```

---

## äº”ã€çŸ¥è¯†æŠ½å–å·¥å…·é…ç½®ï¼ˆDeepKEï¼‰<small>ï¼ˆæ·±åº¦å­¦ä¹ æ¨¡å‹é…ç½®ï¼‰</small>

å½“å‰å¼€æºç‰ˆæœ¬é‡‡ç”¨ [**å¼€æºä¸­æ–‡çŸ¥è¯†å›¾è°±æŠ½å–æ¡†æ¶å¼€ç®±å³ç”¨ç‰¹åˆ«ç‰ˆDeepKE-cnSchema**](https://github.com/zjunlp/DeepKE/blob/main/README_CNSCHEMA_CN.md) ä½œä¸ºçŸ¥è¯†æŠ½å–å·¥å…·ã€‚è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼Œæ¨èä½¿ç”¨ Docker å®‰è£…ã€‚

#### <span style="color:#4CAF50">1ã€æ ¹æ®éœ€è¦ä¿®æ”¹æŠ½å–å®ä½“ç±»å‹é…ç½®ï¼ˆéœ€è¿›å…¥dockerå®¹å™¨å†…ä¿®æ”¹ï¼‰ </span>
é…ç½®æ–‡ä»¶è·¯å¾„ï¼š`DeepKE/example/ner/standard/conf/train.yaml`

```yaml
adam_epsilon: 1e-8
data_dir: "data"
do_eval: True
do_train: True
eval_batch_size: 8
eval_on: "dev"
gpu_id: 0
gradient_accumulation_steps: 1
learning_rate: 1e-3            # tipsï¼šset 2e-5 for BERT with recommended datasets
num_train_epochs: 3            # the number of training epochs
output_dir: "checkpoints"
seed: 42
train_batch_size: 128
use_gpu: True                # use gpu or not
warmup_proportion: 0.1
weight_decay: 0.01

# For StepLR Optimizer
lr_step : 5
lr_gamma : 0.8
beta1: 0.9
beta2: 0.999

# æ­¤å¤„å¯ä¿®æ”¹æŠ½å–çš„å®ä½“ç±»å‹
labels: ['LOC','ORG','PER']
# labels: ['YAS','TOJ', 'NGS', 'QCV', 'OKB', 'BQF', 'CAR', 'ZFM', 'EMT', 'UER', 'QEE', 'UFT', 'GJS', 'SVA', 'ANO', 'KEJ', 'ZDI', 'CAT', 'GCK', 'FQK', 'BAK', 'RET', 'QZP', 'QAQ', 'ZRE', 'TDZ', 'CVC', 'PMN']

use_multi_gpu: False
```

> **æ³¨æ„**: å®ä½“ç±»å‹é…ç½®è¯·å‚è€ƒä»¥ä¸‹DeepKEå®˜ç½‘æ–‡æ¡£æä¾›çš„ç±»å‹ï¼Œè‹¥éœ€æŠ½å–å…¶ä»–ç±»å‹ï¼Œéœ€é‡æ–°è®­ç»ƒæ¨¡å‹ã€‚è®­ç»ƒæ–¹å¼è¯·å‚è€ƒ [DeepKE å®˜æ–¹æ–‡æ¡£](https://github.com/zjunlp/DeepKE/blob/main/README_CNSCHEMA_CN.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9E%8B)ã€‚

![extEntityType.png](.gitee/extEntityType.png)

#### <span style="color:#4CAF50">2ã€ä¿®æ”¹ DeepKE æ‰§è¡Œè„šæœ¬ä¸­çš„ **dockerå®¹å™¨id** </span>

è·¯å¾„ï¼š`qKnow/bin/DeepKE/start.sh`

```bash
#!/bin/bash
# DeepKE.sh

if [ $# -lt 1 ]; then
    echo "Usage: $0 <text>"
    exit 1
fi

TEXT="$1"

# æ³¨æ„ï¼šæ­¤å¤„è¯·æ¢æˆä½ çš„dockerå®¹å™¨id
# æ³¨æ„ï¼šå»ºè®®åœ¨æœ¬åœ°å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹æµ‹è¯•å‘½ä»¤ï¼Œä¿è¯èƒ½å¤ŸæˆåŠŸæ‰§è¡Œpredict.pyæ–‡ä»¶ã€‚
# æµ‹è¯•å‘½ä»¤ï¼šdocker exec dabea2a436b6 python -u predict.py "text='æ­Œæ‰‹å‘¨æ°ä¼¦åˆ›ä½œäº†å¤šé¦–ç»å…¸æ­Œæ›²ï¼Œå¦‚ã€Šç¨»é¦™ã€‹ï¼Œè¿™é¦–æ­Œæ·±å—ä¸­å›½å„åœ°å¬ä¼—çš„å–œçˆ±ã€‚'"
docker exec dabea2a436b6 python -u predict.py "text='$TEXT'"
```

---
#### <span style="color:#4CAF50">å‹æƒ…æç¤ºï¼š</span>
> DeepKEæŠ½å–ä¾èµ–CPUã€GPUæ€§èƒ½ï¼Œå»ºè®®æŠ½å–çš„æ–‡ä»¶ä¸å®œè¿‡å¤§ï¼Œå¦åˆ™æŠ½å–æ—¶é—´ä¼šå¾ˆé•¿ã€‚
---

## å…­ã€åç«¯è¿è¡Œ <small>ï¼ˆå¯åŠ¨æœåŠ¡å™¨ï¼‰</small>

1. ä½¿ç”¨ IntelliJ IDEA æˆ– Eclipse å¯¼å…¥é¡¹ç›®ã€‚
2. IDE å°†è‡ªåŠ¨åŠ è½½ Maven ä¾èµ–ï¼Œåˆæ¬¡åŠ è½½å¯èƒ½è¾ƒæ…¢ã€‚
3. è¿è¡Œ `tech.qiantong.qknow.server.QKnowApplication.java`ã€‚å¯åŠ¨æˆåŠŸåï¼Œå¯é€šè¿‡ `http://localhost:8090` è®¿é—®åç«¯æœåŠ¡ã€‚
4. å‡ºç°ä»¥ä¸‹æç¤ºï¼Œè¡¨ç¤ºåç«¯æœåŠ¡å¯åŠ¨æˆåŠŸï¼š

```
(â™¥â— â€¿â— )ï¾‰ï¾  åƒçŸ¥å¹³å°å¯åŠ¨æˆåŠŸ   áƒš(Â´Ú¡`áƒš)ï¾  
        _  __                    
   __ _| |/ /_ __   _____      __
  / _` | ' /| '_ \ / _ \ \ /\ / /
 | (_| | . \| | | | (_) \ V  V / 
  \__, |_|\_\_| |_|\___/ \_/\_/  
     |_|                         
```

> **æ³¨æ„**: ä»…å¯åŠ¨åç«¯æœåŠ¡ä¸ä¼šæ˜¾ç¤ºé™æ€é¡µé¢ï¼Œè¯·ç»§ç»­éƒ¨ç½²å‰ç«¯æœåŠ¡ã€‚

> **Tips**: å¦‚æœæç¤ºç¼ºå°‘ä¾èµ–åŒ…aspose-words-javaã€aspose-cells-javaæ—¶ï¼Œéœ€è¦å°†é¡¹ç›®æ ¹ç›®å½•ä¸‹libæ–‡ä»¶å¤¹ä¸­çš„ä¸¤ä¸ªjaråŒ…å¼•å…¥ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹ä¸¤è¡Œä»£ç ï¼š
 
```
mvn install:install-file -Dfile=lib/aspose-cells-21.8.cracked.jar  -DgroupId=com.aspose-cells  -DartifactId=aspose-cells-java -Dversion=21.8 -Dpackaging=jar
mvn install:install-file -Dfile=lib/aspose-words-15.8.0-jdk16.jar  -DgroupId=com.aspose-words  -DartifactId=aspose-words-java -Dversion=15.8.0 -Dpackaging=jar
```

---

## ä¸ƒã€å‰ç«¯è¿è¡Œ <small>ï¼ˆå¯åŠ¨å‰ç«¯æœåŠ¡ï¼‰</small>

### 1. æ ¹æ®éœ€è¦ä¿®æ”¹åå°æœåŠ¡ç«¯å£é…ç½®

```javascript
// vite ç›¸å…³é…ç½®
server: {
  port: 80,
  host: true,
  open: true,
  proxy: {
    "/dev-api": {
      target: "http://localhost:8090",
      changeOrigin: true,
      rewrite: (p) => p.replace(/^\/dev-api/, ""),
    },
  }
}
```

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡

#### æ­¥éª¤ 1: è¿›å…¥é¡¹ç›®ç›®å½•

é¦–å…ˆï¼Œå¯¼èˆªåˆ° `qknow-ui` ç›®å½•ä¸‹ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd qknow-ui
```

#### æ­¥éª¤ 2: å®‰è£…ä¾èµ–

æ¥ä¸‹æ¥ï¼Œå®‰è£…é¡¹ç›®çš„ä¾èµ–åŒ…ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ·˜å®é•œåƒæºä»¥åŠ é€Ÿä¸‹è½½é€Ÿåº¦ï¼š

```bash
# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨æ·˜å®é•œåƒï¼‰
npm install --registry=https://registry.npmmirror.com
```

#### æ­¥éª¤ 3: æœ¬åœ°å¼€å‘å¹¶å¯åŠ¨é¡¹ç›®

æœ€åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š

```bash
# æœ¬åœ°å¼€å‘ å¯åŠ¨é¡¹ç›®
npm run dev
```

### 3. æµ‹è¯•å‰ç«¯æœåŠ¡

æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ `http://localhost`ã€‚é»˜è®¤è´¦æˆ·/å¯†ç ä¸º `qKnow/qKnow123`ã€‚è‹¥èƒ½æ­£ç¡®å±•ç¤ºç™»å½•é¡µé¢ï¼Œå¹¶èƒ½æˆåŠŸç™»å½•ï¼Œèœå•åŠé¡µé¢å±•ç¤ºæ­£å¸¸ï¼Œåˆ™è¡¨æ˜ç¯å¢ƒæ­å»ºæˆåŠŸã€‚

> **æç¤º**: å› ä¸ºæœ¬é¡¹ç›®æ˜¯å‰åç«¯å®Œå…¨åˆ†ç¦»çš„ï¼Œæ‰€ä»¥éœ€è¦å‰åç«¯éƒ½å•ç‹¬å¯åŠ¨å¥½ï¼Œæ‰èƒ½è¿›è¡Œè®¿é—®ã€‚

---

å¸Œæœ›è¿™ä¸ªæ–‡æ¡£èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œæ“ä½œ **åƒçŸ¥å¹³å°ï¼ˆqKnowï¼‰** é¡¹ç›®ï¼

---

<p align="center">
  <img src="https://img.icons8.com/fluent/48/000000/checkmark.png" width="36"/>
  <strong>å®Œæˆï¼</strong>
</p>
